--- ruby-dcl-1.2.2/extconf.rb~	2003-09-16 15:21:04.681990400 +0900
+++ ruby-dcl-1.2.2/extconf.rb	2003-09-16 15:20:34.789006400 +0900
@@ -58,8 +58,8 @@
   $LOCAL_LIBS += " -l"+dcllibname+" -l"+f2clibname+" -l"+xlibname+" -lsocket -lnsl"
 end
 
-if defined?(__CYGWIN__) && VERSION < '1.7'
-   have_library("narray") || raise("ERROR: narray brary is not found")
+if /cygwin|mingw/ =~ RUBY_PLATFORM
+   have_library("narray") || raise("ERROR: narray library is not found")
 end
 
 create_makefile("numru/dcl_raw")
