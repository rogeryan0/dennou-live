<?xml version="1.0" encoding="euc-jp"?>
<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: w_base_mpi_module</title>
  <meta http-equiv="Content-Type" content="text/html; charset=euc-jp" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">w_base_mpi_module</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../files/src-mpi/w_base_mpi_module_f90.html">

                src-mpi/w_base_mpi_module.f90

                </a>


        <br />
            </td>
        </tr>


        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">


  <div id="contextContent">



    <div id="description">
      <p>
<a href="w_base_mpi_module.html">w_base_mpi_module</a>
</p>
<pre>
 spml/w_base_module モジュールは球面上での 2 次元流体運動を
 球面調和函数を用いたスペクトル法と MPI によって数値計算するための
 モジュール w_mpi_module の下部モジュールであり, スペクトル法の
 基本的なな Fortran90 関数を提供する.

 内部で ISPACK の SPPACK と SNPACK の Fortran77 サブルーチンを呼んでいる.
 スペクトルデータおよび格子点データの格納方法や変換の詳しい計算法に
 ついては ISPACK/SNPACK,SPPACK のマニュアルを参照されたい.
</pre>

    </div>





   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M000184">a</a>&nbsp;&nbsp;

        <a href="#M000183">ia</a>&nbsp;&nbsp;

        <a href="#M000191">id</a>&nbsp;&nbsp;

        <a href="#M000196">im</a>&nbsp;&nbsp;

        <a href="#M000180">ip</a>&nbsp;&nbsp;

        <a href="#M000178">it</a>&nbsp;&nbsp;

        <a href="#M000186">jc</a>&nbsp;&nbsp;

        <a href="#M000192">jd</a>&nbsp;&nbsp;

        <a href="#M000197">jm</a>&nbsp;&nbsp;

        <a href="#M000198">nm</a>&nbsp;&nbsp;

        <a href="#M000181">p</a>&nbsp;&nbsp;

        <a href="#M000182">r</a>&nbsp;&nbsp;

        <a href="#M000179">t</a>&nbsp;&nbsp;

        <a href="#M000187">v_Lat</a>&nbsp;&nbsp;

        <a href="#M000188">v_Lat_Weight</a>&nbsp;&nbsp;

        <a href="#M000193">w_base_mpi_Initial</a>&nbsp;&nbsp;

        <a href="#M000195">w_xv</a>&nbsp;&nbsp;

        <a href="#M000190">xv_Lat</a>&nbsp;&nbsp;

        <a href="#M000189">xv_Lon</a>&nbsp;&nbsp;

        <a href="#M000194">xv_w</a>&nbsp;&nbsp;

        <a href="#M000185">y</a>&nbsp;&nbsp;
      </div>
    </div>


  </div>


    <!-- if includes -->

    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">

        <span class="include-name">dc_message</span>

        <span class="include-name"><a href="w_base_module.html">w_base_module</a></span>
      </div>
    </div>



    <div id="section">










      


    <!-- if method_list -->

    <div id="methods">


      <h3 class="section-bar">Public Instance methods</h3>


      <div id="method-M000184" class="method-detail">
        <a name="M000184"></a>

        <div class="method-heading">




          <span class="method-name">a</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000184">a</a>(:)  </tt></b>  <tt> </tt> :</td><td><tt>real(8), allocatable</tt>

<table>
<tr><td valign="top"> :</td><td> 変換用配列(分散格子点用)

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000183" class="method-detail">
        <a name="M000183"></a>

        <div class="method-heading">




          <span class="method-name">ia</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000183">ia</a>(:)  </tt></b>  <tt> </tt> :</td><td><tt>integer, allocatable</tt>

<table>
<tr><td valign="top"> :</td><td> 変換用配列(分散格子点用)

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000191" class="method-detail">
        <a name="M000191"></a>

        <div class="method-heading">




          <span class="method-name">id</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000191">id</a>  </tt></b>  <tt> =65</tt> :</td><td><tt>integer</tt>

<table>
<tr><td valign="top"> :</td><td> xv_work の大きさ

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000196" class="method-detail">
        <a name="M000196"></a>

        <div class="method-heading">




          <span class="method-name">im</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000196">im</a>  </tt></b>  <tt> =64            </tt> :</td><td><tt>integer</tt>

<table>
<tr><td valign="top"> :</td><td> 格子点の設定(東西)

</td></tr>
</table>
</td></tr>
</table>
<p>
Original external subprogram is <a
href="w_base_module.html#M001503">w_base_module#im</a>
</p>


        </div>
      </div>


      <div id="method-M000180" class="method-detail">
        <a name="M000180"></a>

        <div class="method-heading">




          <span class="method-name">ip</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000180">ip</a>(:)  </tt></b>  <tt> </tt> :</td><td><tt>integer, allocatable</tt>

<table>
<tr><td valign="top"> :</td><td> 変換用配列(分散格子点用)

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000178" class="method-detail">
        <a name="M000178"></a>

        <div class="method-heading">




          <span class="method-name">it</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000178">it</a>(6)  </tt></b>  <tt> </tt> :</td><td><tt>integer</tt>

<table>
<tr><td valign="top"> :</td><td> 変換用配列(分散格子点用)

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000186" class="method-detail">
        <a name="M000186"></a>

        <div class="method-heading">




          <span class="method-name">jc</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000186">jc</a>  </tt></b>  <tt> </tt> :</td><td><tt>integer</tt>

<table>
<tr><td valign="top"> :</td><td> 分散配置用変数

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000192" class="method-detail">
        <a name="M000192"></a>

        <div class="method-heading">




          <span class="method-name">jd</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000192">jd</a>  </tt></b>  <tt> =33     </tt> :</td><td><tt>integer</tt>

<table>
<tr><td valign="top"> :</td><td> xv_work の大きさ

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000197" class="method-detail">
        <a name="M000197"></a>

        <div class="method-heading">




          <span class="method-name">jm</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000197">jm</a>  </tt></b>  <tt> =32            </tt> :</td><td><tt>integer</tt>

<table>
<tr><td valign="top"> :</td><td> 格子点の設定(南北)

</td></tr>
</table>
</td></tr>
</table>
<p>
Original external subprogram is <a
href="w_base_module.html#M001504">w_base_module#jm</a>
</p>


        </div>
      </div>


      <div id="method-M000198" class="method-detail">
        <a name="M000198"></a>

        <div class="method-heading">




          <span class="method-name">nm</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000198">nm</a>  </tt></b>  <tt> =21            </tt> :</td><td><tt>integer</tt>

<table>
<tr><td valign="top"> :</td><td> 切断波数の設定

</td></tr>
</table>
</td></tr>
</table>
<p>
Original external subprogram is <a
href="w_base_module.html#M001505">w_base_module#nm</a>
</p>


        </div>
      </div>


      <div id="method-M000181" class="method-detail">
        <a name="M000181"></a>

        <div class="method-heading">




          <span class="method-name">p</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000181">p</a>(:)  </tt></b>  <tt> </tt> :</td><td><tt>real(8), allocatable</tt>

<table>
<tr><td valign="top"> :</td><td> 変換用配列(分散格子点用)

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000182" class="method-detail">
        <a name="M000182"></a>

        <div class="method-heading">




          <span class="method-name">r</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000182">r</a>(:)  </tt></b>  <tt> </tt> :</td><td><tt>real(8), allocatable</tt>

<table>
<tr><td valign="top"> :</td><td> 変換用配列(分散格子点用)

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000179" class="method-detail">
        <a name="M000179"></a>

        <div class="method-heading">




          <span class="method-name">t</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000179">t</a>(:)  </tt></b>  <tt> </tt> :</td><td><tt>real(8), allocatable</tt>

<table>
<tr><td valign="top"> :</td><td> 変換用配列(分散格子点用)

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000187" class="method-detail">
        <a name="M000187"></a>

        <div class="method-heading">




          <span class="method-name">v_Lat</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000187">v_Lat</a>(:)  </tt></b>  <tt> </tt> :</td><td><tt>real(8), allocatable</tt>

<table>
<tr><td valign="top"> :</td><td> 緯度経度

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000188" class="method-detail">
        <a name="M000188"></a>

        <div class="method-heading">




          <span class="method-name">v_Lat_Weight</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000188">v_Lat_Weight</a>(:)  </tt></b>  <tt> </tt> :</td><td><tt>real(8), allocatable</tt>

<table>
<tr><td valign="top"> :</td><td> 緯度経度

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000193" class="method-detail">
        <a name="M000193"></a>

        <div class="method-heading">


          <a href="#M000193" class="method-signature">



          <span class="method-name">w_base_mpi_Initial</span><span class="method-args">( ) </span>



          </a>

        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em> Subroutine </em></b> :</td><td>
</td></tr>
</table>
<p>
スペクトル変換の格子点数, 波数を設定する.
</p>
<p>
実際の使用には上位サブルーチン w_mpi_Initial を用いること.
</p>


          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000193-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000193-source">
<pre>
    subroutine w_base_mpi_Initial
      !
      ! スペクトル変換の格子点数, 波数を設定する.
      !
      ! 実際の使用には上位サブルーチン w_mpi_Initial を用いること.
      !
      integer :: iw, i, j

      allocate(t(im*2))                       ! 変換用配列(分散配置)
      allocate(ip(((nm+1)/2+nm+1)*2))         ! 変換用配列(分散配置)
      allocate(p(((nm+1)/2+nm+1)*jm))         ! 変換用配列(分散配置)
      allocate(r(((nm+1)/2*2+3)*(nm/2+1)))    ! 変換用配列(分散配置)
      allocate(ia((nm+1)*(nm+1)*4))           ! 変換用配列(分散配置)
      allocate(a((nm+1)*(nm+1)*6))            ! 変換用配列(分散配置)
      allocate(y(jm*2))                       ! 変換用配列(分散配置)

      ! 注意 : 別ルーチンによって w_base_Initial が呼んであることを仮定
      call snmini(nm,im,jm,jc,it,t,y,ip,p,r,ia,a)

      if ( im/2*2 .eq. im ) then
         id = im+1 
      else
         id = im
      endif
      if ( jc/2*2 .eq. jc ) then
         jd = jc+1
      else
         jd = jc
      endif
      allocate(xv_work(id,jd))                ! 変換用配列

      allocate(q(((nm+1)/2+nm+1)*jm))         ! 作業配列
 
      iw=max((nm+4)*(nm+3),jd*3*(nm+1),jd*im)
      allocate(ws(iw),ww(iw), w((nm+1)*(nm+1)))    ! 作業用配列
      allocate(yy(jc/2,4))                         ! 変換用配列

      allocate(v_Lat(jc),v_Lat_Weight(jc))             ! 格子点座標格納配列

      allocate(xv_Lon(0:im-1,jc),xv_Lat(0:im-1,jc))   ! 格子点座標格納配列

      yy = reshape(y(1:2*jc),(/jc/2,4/))

      do j=1,jc/2
         v_Lat(jc/2+j)   =  asin(yy(j,1))        ! 緯度座標
         v_Lat(jc/2-j+1) = -asin(yy(j,1))        ! 緯度座標
         v_Lat_Weight(jc/2+j)   = 2*yy(j,2)      ! 緯度重み(Gauss grid)
         v_Lat_Weight(jc/2-j+1) = 2*yy(j,2)      ! 緯度重み(Gauss grid)
      enddo
  
      do j=1,jc
         xv_Lon(:,j) = x_Lon
      enddo

      do i=0,im-1
         xv_Lat(i,:) = v_Lat
      enddo

      call MessageNotify('M','w_base_mpi_initial', 'w_base_mpi_module is initialized')
    end subroutine w_base_mpi_Initial
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000195" class="method-detail">
        <a name="M000195"></a>

        <div class="method-heading">


          <a href="#M000195" class="method-signature">



          <span class="method-name">w_xv</span><span class="method-args">( xv_data, [ipow], [iflag] ) result(w_xv)</span>



          </a>

        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em> Function </em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000195">w_xv</a>((<a href="w_base_mpi_module.html#M000198">nm</a>+1)*(<a href="w_base_mpi_module.html#M000198">nm</a>+1))  </tt></b>  <tt> </tt> :</td><td><tt>real(8)</tt>

<table>
<tr><td valign="top"> :</td><td> (out) スペクトルデータ

</td></tr>
</table>
</td></tr>
<tr><td valign="top"><b><tt>xv_data(0:im-1,<a href="w_base_mpi_module.html#M000186">jc</a>)  </tt></b>  <tt> </tt> :</td><td><tt>real(8), intent(in)</tt>

<table>
<tr><td valign="top"> :</td><td> (in) 格子点データ

</td></tr>
</table>
</td></tr>
<tr><td valign="top"><b><tt>ipow  </tt></b>  <tt> </tt> :</td><td><tt>integer, intent(in), optional</tt>

<table>
<tr><td valign="top"> :</td><td> (in) 変換時に同時に作用させる 1/cosφ の次数. 省略時は 0.

</td></tr>
</table>
</td></tr>
<tr><td valign="top"><b><tt>iflag  </tt></b>  <tt> </tt> :</td><td><tt>integer, intent(in), optional</tt>

<table>
<tr><td valign="top"> :</td><td> 変換の種類

<pre>
    0 : 通常の正変換
    1 : 経度微分を作用させた正変換
   -1 : 緯度微分を作用させた正変換
    2 : sinφを作用させた正変換
  省略時は 0.
</pre>
</td></tr>
</table>
</td></tr>
</table>
<p>
格子データからスペクトルデータへ(正)変換する(1 層用).
</p>


          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000195-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000195-source">
<pre>
    function w_xv(xv_data,ipow,iflag)
      !
      ! 格子データからスペクトルデータへ(正)変換する(1 層用).
      !
      real(8)               :: w_xv((nm+1)*(nm+1))
      !(out) スペクトルデータ

      real(8), intent(in)   :: xv_data(0:im-1,jc)
      !(in) 格子点データ

      integer, intent(in), optional  :: ipow
      !(in) 変換時に同時に作用させる 1/cosφ の次数. 省略時は 0.

      integer, intent(in), optional  :: iflag
      ! 変換の種類
      !     0 : 通常の正変換
      !     1 : 経度微分を作用させた正変換
      !    -1 : 緯度微分を作用させた正変換
      !     2 : sinφを作用させた正変換
      !   省略時は 0.


      integer, parameter  :: ipow_default  = 0    ! スイッチデフォルト値
      integer, parameter  :: iflag_default = 0    ! スイッチデフォルト値

      integer ipval, ifval

      if (present(ipow)) then
         ipval = ipow
      else
         ipval = ipow_default
      endif

      if (present(iflag)) then
         ifval = iflag
      else
         ifval = iflag_default
      endif

      xv_work(1:im,1:jc)=xv_data

      call sntgms(nm,im,id,jc,jd,1,xv_work,w_xv, it,t,y,ip,p,r,ia,a,q,ws,ww,ipval,ifval,w)

    end function w_xv
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000190" class="method-detail">
        <a name="M000190"></a>

        <div class="method-heading">




          <span class="method-name">xv_Lat</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000190">xv_Lat</a>(:,:)  </tt></b>  <tt> </tt> :</td><td><tt>real(8), allocatable</tt>

</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000189" class="method-detail">
        <a name="M000189"></a>

        <div class="method-heading">




          <span class="method-name">xv_Lon</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000189">xv_Lon</a>(:,:)  </tt></b>  <tt> </tt> :</td><td><tt>real(8), allocatable</tt>

</td></tr>
</table>


        </div>
      </div>


      <div id="method-M000194" class="method-detail">
        <a name="M000194"></a>

        <div class="method-heading">


          <a href="#M000194" class="method-signature">



          <span class="method-name">xv_w</span><span class="method-args">( w_data, [ipow], [iflag] ) result(xv_w)</span>



          </a>

        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em> Function </em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000194">xv_w</a>(0:im-1,<a href="w_base_mpi_module.html#M000186">jc</a>)  </tt></b>  <tt> </tt> :</td><td><tt>real(8)</tt>

<table>
<tr><td valign="top"> :</td><td> (out) 格子点データ

</td></tr>
</table>
</td></tr>
<tr><td valign="top"><b><tt>w_data((<a href="w_base_mpi_module.html#M000198">nm</a>+1)*(<a href="w_base_mpi_module.html#M000198">nm</a>+1))  </tt></b>  <tt> </tt> :</td><td><tt>real(8), intent(in)</tt>

<table>
<tr><td valign="top"> :</td><td> (in) スペクトルデータ

</td></tr>
</table>
</td></tr>
<tr><td valign="top"><b><tt>ipow  </tt></b>  <tt> </tt> :</td><td><tt>integer, intent(in), optional</tt>

<table>
<tr><td valign="top"> :</td><td> (in) 作用させる 1/cosφ の次数. 省略時は 0.

</td></tr>
</table>
</td></tr>
<tr><td valign="top"><b><tt>iflag  </tt></b>  <tt> </tt> :</td><td><tt>integer, intent(in), optional</tt>

<table>
<tr><td valign="top"> :</td><td> (in) 変換の種類

<pre>
    0 : 通常の正変換
    1 : 経度微分を作用させた正変換
   -1 : 緯度微分を作用させた正変換
    2 : sinφを作用させた正変換
    省略時は 0.
</pre>
</td></tr>
</table>
</td></tr>
</table>
<p>
スペクトルデータから分散格子データへ変換する(1 層用).
</p>


          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000194-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000194-source">
<pre>
    function xv_w(w_data,ipow,iflag)
      !
      ! スペクトルデータから分散格子データへ変換する(1 層用).
      !
      real(8)               :: xv_w(0:im-1,jc)
      !(out) 格子点データ

      real(8), intent(in)   :: w_data((nm+1)*(nm+1))
      !(in) スペクトルデータ

      integer, intent(in), optional  :: ipow      
      !(in) 作用させる 1/cosφ の次数. 省略時は 0. 

      integer, intent(in), optional  :: iflag
      !(in) 変換の種類
      !     0 : 通常の正変換
      !     1 : 経度微分を作用させた正変換
      !    -1 : 緯度微分を作用させた正変換
      !     2 : sinφを作用させた正変換
      !     省略時は 0.
      !
      integer, parameter  :: ipow_default  = 0
      integer, parameter  :: iflag_default = 0

      integer ipval, ifval

      if (present(ipow)) then
         ipval = ipow
      else
         ipval = ipow_default
      endif

      if (present(iflag)) then
         ifval = iflag
      else
         ifval = iflag_default
      endif

      call snts2g(nm,im,id,jc,jd,1,w_data,xv_work, it,t,y,ip,p,r,ia,a,q,ws,ww,ipval,ifval)

      xv_w=xv_work(1:im,1:jc)

    end function xv_w
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000185" class="method-detail">
        <a name="M000185"></a>

        <div class="method-heading">




          <span class="method-name">y</span><span class="method-args"></span>



        </div>

        <div class="method-description">

          <table>
<tr><td valign="top"><b><em>Variable</em></b> :</td><td>
</td></tr>
<tr><td valign="top"><b><tt><a href="w_base_mpi_module.html#M000185">y</a>(:)  </tt></b>  <tt> </tt> :</td><td><tt>real(8), allocatable</tt>

<table>
<tr><td valign="top"> :</td><td> 変換用配列(分散格子点用)

</td></tr>
</table>
</td></tr>
</table>


        </div>
      </div>



    </div>



  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
